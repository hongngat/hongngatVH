function getElement(a) { return document.getElementById(a) } function isIE() { return "Microsoft Internet Explorer" == navigator.appName } function isIE6() { return !window.XMLHttpRequest } function isChrome() { return navigator.userAgent.toLowerCase().indexOf("chrome") > -1 } function _chrome_version() { var a = 0; return /chrome/.test(navigator.userAgent.toLowerCase()) && (a = parseInt(window.navigator.userAgent.match(/Chrome\/(\d+)\./)[1], 10)), a } function Banner(a) { this.obj = a, this.aNodes = [], this.bNodes = [], this.currentBanner = 0, this.intLoopCount = 1, this.intBannerFix = -1, this.intBannerLong = 0, this.stopShow = !1 } function myNode(a, b, c, d, e, f, g, h, i, j, k, l) { this.name = a, this.bannerType = b, this.bannerPath = c, this.bannerDuration = d, this.height = e, this.width = f, this.hyperlink = g, this.positiontype = h, this.popup = k, this.impression = l, this.bannerId = i, this.bannerName = j } function genBanner(a, b) { b = void 0 == b ? "banner_hidden" : b; var c = "", d = ""; a.richbanner = a.width2 > 0 && a.height2 > 0; var e = new Array; a.aBanner = a.bannerPath.split("<|>"); var f = a.width > a.height && a.aBanner.length > 1 ? 2 * a.width + 5 : a.width; for (i = 0; i < a.aBanner.length; i++) 0 == i ? a.bannerPath = a.aBanner[0] : (bParams = a.aBanner[i].split("::"), a.bannerType = bParams[0], a.bannerPath = bParams[1], a.height = bParams[2], a.width = bParams[3], a.hyperlink = bParams[4], a.popup = bParams[5]), e[i] = "", "" != a.hyperlink && "IMAGE" == a.bannerType && (e[i] += '<a href="' + a.hyperlink + '" ' + (a.popup ? 'target="_blank"' : "") + ">"), "SCRIPT" == a.bannerType ? d = (isIE() ? "" : a.height > 0 ? '<div style="height:' + a.height + 'px;">' : "") + a.bannerPath + (isIE() ? "" : a.height > 0 ? "</div>" : "") : "FLASH" == a.bannerType ? e[i] += showFlash(a) : "IMAGE" == a.bannerType && (e[i] += '<img src="' + a.bannerPath + '" ', e[i] += 'border="0" ', e[i] += 'alt="" ', a.height > 0 && (e[i] += 'height="' + a.height + '" '), a.width > 0 && (e[i] += 'width="' + a.width + '">'), "" != a.impression && "undefined" != typeof a.impression && (e[i] += '<img src="' + a.impression + '" width="0" height="0" />')), "TEXT" == a.bannerType && (e[i] += '<iframe width="' + a.width + '" height="' + a.height + '" name="' + a.bannerPath + '" src="' + a.bannerPath + '" marginwidth="0" marginheight="0" scrolling="no" frameborder="0"></iframe>'), "" != a.hyperlink && "IMAGE" == a.bannerType && (e[i] += "</a>"); return c += '<div id="' + a.name + '" ', c += 'align="center" ', c += 'class="adsitem ' + b + '" ', f > 0 && (c += 'style="width:' + f + 'px;"'), c += ' rel="' + a.bannerId + '"', c += ' tag="' + a.bannerName + '">\n', c += d, c += "</div>", "" == d && (e = e.sort(function () { return Math.random() - .5 }), bannerDisplay[a.name] = e.join('<img src="//static.thanhnien.vn/app_themes/images/blank.gif" width="5" height="5" alt="" />')), c } function displayBanner() { for (i in bannerDisplay) divID = getElement(i), void 0 != divID && void 0 != bannerDisplay[i] && (divID.innerHTML = bannerDisplay[i]) } function showFlash(a) { var b = '<object id="swf_' + a.name + '" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0" border="0" height="' + a.height + '" width="' + a.width + '"><param name="movie" value="' + a.bannerPath + '"><param name="AllowScriptAccess" value="always"><param name="quality" value="High"><param name="wmode" value="transparent"><embed src="' + a.bannerPath + '" pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" wmode="transparent" allowscriptaccess="always" height="' + a.height + '" width="' + a.width + '"></object>'; return _chrome_version() >= 27 && (b = '<embed src="' + a.bannerPath + '" pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" wmode="transparent" allowscriptaccess="always" height="' + a.height + '" width="' + a.width + '">'), b } function getBannerPosition(a, b) { var c; if (b < 3) c = a % b; else { var d = Math.floor(a / b), e = d % 2, f = a % b; c = 0 == e ? d + f : d - f, c = c < 0 ? c + b : c, c %= b } return c } function setCookie(a, b, c, d, e, f) { var g = new Date; g.setTime(g.getTime()), c && (c = 1e3 * c * 60 * 60); var h = new Date(g.getTime() + c); document.cookie = a + "=" + escape(b) + (c ? ";expires=" + h.toGMTString() : "") + (d ? ";path=" + d : "") + (e ? ";domain=" + e : "") + (f ? ";secure" : "") } function getCookie(a) { var b = document.cookie.indexOf(a + "="), c = b + a.length + 1; if (!b && a != document.cookie.substring(0, a.length)) return null; if (b == -1) return null; var d = document.cookie.indexOf(";", c); return d == -1 && (d = document.cookie.length), unescape(document.cookie.substring(c, d)) } function deleteCookie(a, b, c) { getCookie(a) && (document.cookie = a + "=" + (b ? ";path=" + b : "") + (c ? ";domain=" + c : "") + ";expires=Thu, 01-Jan-1970 00:00:01 GMT") } var richZIndex = 1e4, siteCookie = Math.floor(1e3 * Math.random()), bannerDisplay = new Array; (c = getCookie("siteCookie")) && (siteCookie = parseInt(c)), siteCookie %= 1e3, Banner.prototype.add = function (a, b, c, d, e, f, g, h, i, j, k) { this.aNodes[this.aNodes.length] = new myNode(this.obj + "_" + this.aNodes.length, a, b, c, d, e, f, g, h, i, j, k) }, Banner.prototype.toString = function () { this.currentBanner = getBannerPosition(siteCookie, this.aNodes.length); for (var a = "", b = 0; b < this.aNodes.length; b++) if ("undefined" != typeof this.aNodes[b].positiontype && 2 == this.aNodes[b].positiontype) a += genBanner(this.aNodes[b], "banner_hidden"); else if ("undefined" != typeof this.aNodes[b].positiontype && 1 == this.aNodes[b].positiontype) a += genBanner(this.aNodes[b], "banner_show"); else { if (getCookie(this.aNodes[b].name)) { this.aNodes.splice(b, 1); continue } if (this.currentBanner != b) continue; a += genBanner(this.aNodes[b], "banner_show") } return document.write(a), a = "" }, Banner.prototype.start = function () { if (0 == this.aNodes.length) return !0; if (this.stopShow) return !0; if ("undefined" != typeof this.aNodes[this.currentBanner].positiontype && 2 == this.aNodes[this.currentBanner].positiontype) { this.changeBanner(); var a = this.obj; setTimeout(a + ".start()", 1e3 * this.aNodes[this.currentBanner].bannerDuration) } }, Banner.prototype.changeBanner = function () { try { var a, b = -1; this.currentBanner > this.aNodes.length - 1 && (this.currentBanner = 0), this.currentBanner < this.aNodes.length && (a = this.currentBanner, this.aNodes.length > 1 && (b = a > 0 ? a - 1 : this.aNodes.length - 1), this.currentBanner < this.aNodes.length - 1 ? this.currentBanner = this.currentBanner + 1 : this.currentBanner = 0), b >= 0 && (document.getElementById(this.aNodes[b].name).className = "banner_hidden"), document.getElementById(this.aNodes[a].name).className = "banner_show", this.intLoopCount++ } catch (a) { } };