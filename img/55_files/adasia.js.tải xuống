!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).fusetag=t()}(this,function(){"use strict";var e={fuse_tenant:"adasia",fuse_cdn:"//cdn.fuseplatform.net/adasia/tags/",fuse_breakpoints:{m:960,s:600,xs:0},fuse_settings:{adblock:!1,lazy:!1,responsive:!0,headerbidding_breakpoint_options:{s:{enabled:!0,timeout:1e3},m:{enabled:!0,timeout:1e3},xs:{enabled:!0,timeout:1e3}},confiant:!1,cmp:!1},fuse_blocked_url:[],fuse_id:1012,fuse_slots:[{id:"21806970915",slot:"21622890900/VN_thanhnien.vn_mb_article_bottom_300x250",sizes:[[300,250]],sizeMapping:{m:[],xs:[[300,250]],s:[[300,250]]},attributes:{adblock:!1,headerbidding:!0,lazy:!1,refresh:!1},customLazy:{m:!1,l:!1,xs:!1,xl:!1,s:!1},bids:[{bidder:"openx",params:{unit:"540920246",size:"300x250",delDomain:"adasia-d.openx.net"},labelAny:["xs","s"]},{bidder:"ix",params:{id:"21806970915",size:[300,250],siteId:"426668"},labelAny:["xs","s"]},{bidder:"appnexus",params:{placementId:"17752061"}},{bidder:"pubmatic",params:{publisherId:"158497",adSlot:"21622890900/VN_thanhnien.vn_mb_article_bottom_300x250@300x250"},labelAny:["xs","s"]},{bidder:"rubicon",labelAny:["s"],params:{accountId:"20884",siteId:"295340",zoneId:"1488166",sizes:[15]}},{bidder:"rubicon",labelAny:["xs"],params:{accountId:"20884",siteId:"295340",zoneId:"1488166",sizes:[15]}},{bidder:"criteo",params:{zoneId:"1439288",size:"300x250",publisherSubId:"HB_VN_thanhnien.vn_mb_article_bottom_300x250_21806970915"},labelAny:["xs","s"]},{bidder:"smartadserver",params:{formatId:"86006",pageId:"1175559",size:"300x250",siteId:"335339",domain:"https://prg8.smartadserver.com"},labelAny:["xs","s"]}]},{id:"21806972844",slot:"21622890900/VN_thanhnien.vn_pc_article_right1_300x250",sizes:[[300,250]],sizeMapping:{s:[],m:[[300,250]],l:[[300,250]],xs:[],xl:[[300,250]]},attributes:{adblock:!1,headerbidding:!0,lazy:!1,refresh:!1},bids:[{bidder:"openx",params:{delDomain:"adasia-d.openx.net",unit:"540920245",size:"300x250"},labelAny:["m","l","xl"]},{bidder:"ix",params:{id:"21806972844",size:[300,250],siteId:"426668"},labelAny:["m","l","xl"]},{bidder:"appnexus",params:{placementId:"17752060"}},{bidder:"pubmatic",params:{publisherId:"158497",adSlot:"21622890900/VN_thanhnien.vn_pc_article_right1_300x250@300x250"},labelAny:["m","l","xl"]},{bidder:"rubicon",labelAny:["xl"],params:{accountId:"20884",siteId:"295340",zoneId:"1488164",sizes:[15]}},{bidder:"rubicon",labelAny:["m"],params:{accountId:"20884",siteId:"295340",zoneId:"1488164",sizes:[15]}},{bidder:"rubicon",labelAny:["l"],params:{accountId:"20884",siteId:"295340",zoneId:"1488164",sizes:[15]}},{bidder:"criteo",params:{publisherSubId:"HB_VN_thanhnien.vn_pc_article_right1_300x250_21806972844",zoneId:"1439288",size:"300x250"},labelAny:["m","l","xl"]},{bidder:"smartadserver",params:{pageId:"1175560",size:"300x250",siteId:"335339",domain:"https://prg8.smartadserver.com",formatId:"86006"},labelAny:["m","l","xl"]}]},{id:"21806972958",slot:"21622890900/VN_thanhnien.vn_pc_article_right4_300x600",sizes:[[300,600]],sizeMapping:{xs:[],xl:[[300,600]],s:[],m:[[300,600]],l:[[300,600]]},attributes:{adblock:!1,headerbidding:!0,lazy:!1,refresh:!1},bids:[{bidder:"openx",params:{delDomain:"adasia-d.openx.net",unit:"540920244",size:"300x600"},labelAny:["xl","m","l"]},{bidder:"ix",params:{id:"21806972958",size:[300,600],siteId:"426668"},labelAny:["xl","m","l"]},{bidder:"appnexus",params:{placementId:"17752059"}},{bidder:"pubmatic",params:{publisherId:"158497",adSlot:"21622890900/VN_thanhnien.vn_pc_article_right4_300x600@300x600"},labelAny:["xl","m","l"]},{bidder:"rubicon",labelAny:["m"],params:{accountId:"20884",siteId:"295340",zoneId:"1488162",sizes:[10]}},{bidder:"rubicon",labelAny:["l"],params:{accountId:"20884",siteId:"295340",zoneId:"1488162",sizes:[10]}},{bidder:"rubicon",labelAny:["xl"],params:{accountId:"20884",siteId:"295340",zoneId:"1488162",sizes:[10]}},{bidder:"criteo",params:{publisherSubId:"HB_VN_thanhnien.vn_pc_article_right4_300x600_21806972958",zoneId:"1439294",size:"300x600"},labelAny:["xl","m","l"]},{bidder:"smartadserver",params:{pageId:"1175561",size:"300x600",siteId:"335339",domain:"https://prg8.smartadserver.com",formatId:"86008"},labelAny:["xl","m","l"]}]}],supported_sizes:{m:[[300,250],[300,600]],xs:[[300,250]],s:[[300,250]],l:[[300,250],[300,600]],xl:[[300,250],[300,600]]},prebid_analytics:{rubicon:{provider:"rubicon",options:{accountId:11504,endpoint:"https://prebid-a.rubiconproject.com/event"}}},fuse_industry:["IAB12"]},t="2.10.0",n="2",a=e,i="div",o="fuse-slot",r="FUSE",s={gpt:{name:"Google Publisher Tag",url:"//securepubads.g.doubleclick.net/tag/js/",file:"gpt.js"},prebid:{name:"Prebid.org",url:a.fuse_cdn||"//cdn.publift.com/fuse/tag/",file:"prebid.js"},adblock:{name:"Criteo AdBlock",url:"//static.criteo.net/js/ld/",file:"publishertag.js"},confiant:{name:"Confiant",url:"//clarium.global.ssl.fastly.net/gpt/a/",file:"wrap.js?v2_1"}},c=void 0;Array.prototype.forEach||(Array.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<c.length;n++)e.call(t,c[n],n,c)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0==i)return!1;for(var o,r,a=0|t,s=Math.max(0<=a?a:i-Math.abs(a),0);s<i;){if((o=n[s])===(r=e)||"number"==typeof o&&"number"==typeof r&&isNaN(o)&&isNaN(r))return!0;s++}return!1}}),"undefined"!=typeof window&&window.NodeList&&!window.NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);var d="undefined"!=typeof module&&module.exports?"node":"browser",u="undefined"==typeof window?global:window,A=u,I=u.document;function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function h(o){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach(function(e){var t,n,i;t=o,i=r[n=e],n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(r,e))})}return o}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(t){return m(A.top.location.search.split(/[?&]/).filter(function(e){return""!==e}).map(function(e){return e.split("=")}).filter(function(e){return e[0]===t}),1)[0]||[]}function v(){return Date.now()}function S(e,t){if(e.hasOwnProperty("url")){var n=I.createElement("script");n.async=!0,n.type="text/javascript","function"==typeof t&&(n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()}),n.src=e.url+e.file;var i=I.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}}function _(t,n,i){function o(){var e=v()-c;e<n&&0<=e?r=setTimeout(o,n-e):(r=null,i||(d=t.apply(s,a),r||(s=a=null)))}var r,a,s,c,d;return function(){s=this,a=arguments,c=v();var e=i&&!r;return r=r||setTimeout(o,n),e&&(d=t.apply(s,a),s=a=null),d}}function w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t[0]="[".concat(r,"]-").concat(t[0]),"node"==d)throw new Error(t);K&&K.error&&ee&&K.error.apply(null,t)}function T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0]="[".concat(r,"]-").concat(t[0]),K&&K.warn&&ee&&K.warn.apply(null,t)}function z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0]="[".concat(r,"]-").concat(t[0]),K&&K.log&&ee&&K.log.apply(null,t)}function k(e){A.addEventListener("resize",_(e||function(){z("resized",A.innerWidth,A.innerHeight)},500))}function j(e){var n,i=a.fuse_breakpoints,o=e||A.innerWidth;return Object.keys(i).forEach(function(e){var t=i[e];t<o&&(!n||o<n)&&(n={size:t,name:e})}),n}function x(){return"node"==d?100:A.performance.timing.navigationStart}function O(){return ne}function E(e){return!0===e?0:e}function M(e,t){var n=t.name;return e.hasOwnProperty("customLazy")&&e.customLazy.hasOwnProperty(n)&&!1!==e.customLazy[n]?e.customLazy[n]:e.attributes.lazy}function C(e,t,n){if(!e)return!1;var i,o,r,a,s,c,d,u,l,f,p,g,b=e.getBoundingClientRect(),h=I.hidden,m=A.innerWidth||I.documentElement.clientWidth,y=A.innerHeight||I.documentElement.clientHeight,v=E(n),S=(o=m,r=y,a=v,s=t?t/100:1,c=(i=b).top,d=i.bottom,u=i.left,l=i.right,f=i.width,p=i.height*s,g=f*s,0<=c+p+a&&0<=u+g&&d-p<=r&&l-g<=o);return!h&&S}function P(e){if(!e)return w("missing parameter fuseSlot");e.matched=e.matched||0,e.matched+=1}function N(t){if(!t)return w("missing parameter fuseSlotID");if("string"!=typeof t)return w("fuseSlotId should be of type string");var n=RegExp("".concat(t.toLowerCase(),"$"));return m(ne.filter(function(e){return e.id===t||n.test(e.slot.toLowerCase())}),1)[0]||!1}function D(){var e=A.top.location.host;return e.substring(e.length-40,e.length)}function L(){var e=A.top.location.pathname;return e.substring(e.length-40,e.length)}function B(){var e=A.top.location.search;return e.substring(e.length-40,e.length)}function F(){for(var e=[],t=A.top.location.pathname.split("/"),n=0;n<t.length;n+=1)t[n].length&&-1===t[n].indexOf(".")&&e.push(t[n]);return e}function R(e){if($&&$.cmd)return $.cmd.push(e);z("googletag or googletag.cmd not exists")}function q(t){if($&&t){var e=$.pubads().getSlots();return Array.isArray(t)?e.filter(function(e){return 0<=t.indexOf(e.getSlotElementId())}):e.filter(function(e){return e.getSlotElementId()===t})}}function U(e,t){R(function(){$.pubads().setTargeting(e,t)})}function Q(){var t,n,i;U("fuse_profanity",(t=A.top.location.host,n=A.top.location.pathname,i="false",a.fuse_blocked_url&&a.fuse_blocked_url.forEach(function(e){-1<e.indexOf(t+n)&&(i="true")}),i)),U("fuse_site",D()),U("fuse_path",L()),U("fuse_query",B()),U("fuse_category",F()),U("fuse_industry",a.fuse_industry)}function G(){return A.pbjs=A.pbjs||(A.pbjs={que:[]})}function V(e){A.pbjs&&A.pbjs.que&&A.pbjs.que.push(e)}function H(e){var t=e/.835;return z("[BIDS]: Adjusting IX bid from Net to Gross from ".concat(e," to ").concat(t)),t}function J(e){e.prebid_analytics&&e.prebid_analytics.length&&e.prebid_analytics.forEach(function(e,t){0!==t&&T("\n          [ANALYTICS]: Having more than one analytics provider active may affect page performance.\n        "),A.pbjs.enableAnalytics(e),z("[ANALYTICS]: Analytics enabled for ".concat(e.provider))})}function W(){var e={};return Be.setPriceGranularity(e),Be.setEnableSendAllBids(e),Be.setConsentManagement(e,a),Be.setSizeConfig(e,a),Be.setUserSync(e),Be.setBidderSettings(e),z("[BIDS]: Setting Prebid Config"),A.pbjs.setConfig(e),J(a),e}function X(e){z("[BIDS]: Setting Prebid ad units ".concat(e.code)),A.pbjs.addAdUnits(e)}function Y(e){z("[BIDS]: Requesting bids"),A.pbjs.requestBids({bidsBackHandler:e})}var Z,$,K=A.console,ee="node"==d||"true"===y("fuse_debug")[1]||!1,te={watchForBreakpoints:function(t){var n=A.innerWidth,i=j(n).size;k(function(){n=A.innerWidth;var e=j(n).size;return e!==i?(z("Window resized to %spx which crossed a breakpoint: New breakpoint is %spx",n,i=e),t(!0)):t(!1)})},setResizeListener:k,getCurrentBreakpoint:j},ne=JSON.parse(JSON.stringify(a.fuse_slots)),ie=N,oe=function(){for(var e=I.querySelectorAll("div.fuse-custom-skin"),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])},re=x,ae=function(){return Z},se=function(e){return Z=e},ce=function(){return A.fusetag.que||[]},de=function(e){if(!e)return w("missing parameter fuseSlotNode");var t=e.getAttribute("data-fuse"),n=N(t);if(n||T("[SLOTS]: There is no FuseSlot set up in the account matching the id ".concat(t)),n){P(n);var i=e.getAttribute("data-targeting-key"),o=e.getAttribute("data-targeting-value");i&&i.length&&o&&o.length&&(n.targeting||(n.targeting={}),n.targeting[i]=o)}return n},ue=function(){return Array.prototype.slice.call(I.querySelectorAll("".concat(i,"[data-fuse]")))},le=function(e){var t=I.querySelectorAll("".concat(i,'[data-fuse="').concat(e,'"]'));return t[t.length-1]},fe=function(e){var t=I.querySelectorAll("".concat(i,'[data-fuse-code="').concat(e,'"]'));return 1<t.length&&T("There should be only one div with the data-fuse-code of ".concat(e)),t[0]},pe=function(e,t){if(z("[SLOTS]: Building the fuse slot for ".concat(e.code," "),new Date-x()),t.setAttribute("data-fuse-code","".concat(e.code)),t.setAttribute("data-fuse-slot","".concat(e.slot)),!t.hasChildNodes()){var n=I.createElement("div");n.setAttribute("id","".concat(e.code)),n.className=o,t.appendChild(n)}return t},ge=C,be=function(t){var e=te.getCurrentBreakpoint().name,n=m(O().filter(function(e){return e.id===t})||[],1)[0];return n.sizeMapping&&n.sizeMapping[e]?(Array.isArray(n.sizeMapping[e])?n.sizeMapping[e]:[n.sizeMapping[e]]).filter(function(e){return"fluid"!==e}):(T('Fuse slot "'.concat(t,'" does not have sizemaps configured, sizeless prebid units may act strangely.')),n.sizes)},he=M,me=function(e,t,n){return!!t.attributes.hasOwnProperty("lazy")&&(!1!==t.attributes.lazy&&!C(e,50,M(t,n)))},ye=function(){return void 0!==A.__cmp},ve=function(n){A.__cmp("getVendorConsents",null,function(t,e){e&&t&&t.metadata?A.__cmp("getGooglePersonalization",function(e){n({consentReceived:!0,personalisedAdsConsent:t.purposeConsents&&t.purposeConsents[2]&&t.purposeConsents[3],googlePersonalisedAdsConsent:e&&e.googlePersonalizationData&&1===e.googlePersonalizationData.consentValue,gdprApplies:t.gdprApplies})}):n({consentReceived:!1,gdprApplies:t&&t.gdprApplies})})},Se=function(t){z("[CONSENT]: Check if CMP has been loaded");var n=!1;setTimeout(function(){if(!n)return t(!1)},1e3),A.__cmp("ping",null,function(e){return n=!0,e&&e.cmpLoaded?t(!0):t(!1)})},Ae=s.gpt,Ie=Q,_e=function(){A.googletag&&A.googletag._loadStarted_?z("[LOAD]: 3. GPT v".concat($.getVersion()," is already on the page, skip loading another copy")):S(Ae,function(){z("[LOAD]: 3. GPT ".concat(A.googletag&&A.googletag._loadStarted_?"v".concat($.getVersion()," is loaded and ready"):"not loaded")),z("[TIME]: time in ms it took GPT to load",new Date-re())})},we=function(e){var t,n,i,o=$.defineSlot(e.slot,e.sizes,e.code),r=Math.ceil(100*Math.random());o&&(o=function(e,i){if(i.sizeMapping&&0!==Object.keys(i.sizeMapping).length){var o=$.sizeMapping();Object.keys(i.sizeMapping).forEach(function(e){var t=a.fuse_breakpoints[e],n=i.sizeMapping[e];void 0!==t&&(z("[EVENT] Setting breakpoint for slot ".concat(i.slot," for size ").concat(e," with breakpoint ").concat(t," and mapping ").concat(n)),o.addSize([t,0],n))}),e.defineSizeMapping(o.build())}return e}(o,e),n=o,(i=e).targeting&&0!==Object.keys(i.targeting).length&&Object.keys(i.targeting).forEach(function(e){n.setTargeting(e,i.targeting[e])}),o=n,t=10<r?"optimized":r%10==0?"benchmark":"exploration".concat(r%10),!1!==a.fuse_settings.adomik&&o.setTargeting("publift_mv_testing",t),o.addService($.pubads()));return o},Te=function(){return $=A.googletag||(A.googletag={cmd:[]})},ze=U,ke=R,je=function(e){var t;if($)return t=!e&&0<$.pubads().getSlots().length?$.pubads().getSlots()[$.pubads().getSlots().length-1].getSlotElementId():e?e.code:null,z("[BIDS]: Initialising DFP call at",new Date-(ae()||re())),$.display(t)},xe=function(e){var t=e?q(e):null;return z("[BIDS]: Making DFP call for ".concat(e||"all units")),$.pubads().refresh(t)},Oe=q,Ee=function(){$.pubads().disableInitialLoad(),$.pubads().collapseEmptyDivs(!0),$.pubads().setCentering(!0),$.pubads().enableSingleRequest(),Q()},Me=function(t){$.pubads().addEventListener("slotRenderEnded",function(e){z("[BIDS]: Adserver responded ".concat(e.isEmpty?"without":"with"," creative for ").concat(e.slot.getSlotElementId())),z("[TIME]: time in ms it took for adserver to respond",new Date-(ae()||re())),t({hasCreative:!e.isEmpty,slotId:e.slot.getSlotElementId()})})},Ce=function(){$.pubads().addEventListener("impressionViewable",function(e){z("[EVENT]: AD_IMPRESSION_VIEW for ".concat(e.slot.getSlotElementId()),new Date-(ae()||re()))})},Pe=function(){A.googletag.enableServices()},Ne=function(){A.googletag.pubads().disableInitialLoad(),A.googletag.pubads().setRequestNonPersonalizedAds(1)},De=function(){function t(e){f(this,t),this.slots={},this.logger=e.logger,this.getMatchedFuseSlot=e.getMatchedFuseSlot,this.pushToGoogleTagQueueFunc=e.pushToGoogleTagQueueFunc,this.destroySlotsFunc=e.destroySlotsFunc}return g(t,[{key:"add",value:function(e,t){e&&"string"==typeof e||this.logger.error("invalid key."),t||this.logger.error("invalid slot object passed.");var n=e.toLowerCase();Array.isArray(this.slots[n])||(this.slots[n]=[]),this.slots[n].push(t)}},{key:"purgeAll",value:function(){Object.keys(this.slots).forEach(this.purge.bind(this))}},{key:"purge",value:function(e){var t=this;if(e&&"string"==typeof e){var n=e.toLowerCase(),i=this.slots[n];Array.isArray(i)&&(this.pushToGoogleTagQueueFunc(function(){t.destroySlotsFunc(i)}),this.slots[n]=[])}}},{key:"getSlots",value:function(e){if(e&&"string"==typeof e&&Array.isArray(this.slots[e.toLowerCase()]))return this.slots[e.toLowerCase()]}},{key:"setSlotTargetingById",value:function(t,n,i){var o=this;if(t&&"string"==typeof t){var e=this.getMatchedFuseSlot(t);e&&(e.targeting||(e.targeting={}),e.targeting[n]=i);var r=o.slots[t.toLowerCase()];r&&Array.isArray(r)&&r.length&&r.forEach(function(e){try{e.setTargeting(n,i)}catch(e){o.logger.error("error occurred while individually setTargeting for key - ".concat(t,"."),e.message,e.stack)}})}}}]),t}(),Le=s.prebid,Be={setConsentManagement:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};"function"!=typeof A.__cmp&&!n.cmp||(e.consentManagement={cmpApi:"iab",timeout:1e4,allowAuctionWithoutConsent:!1},z("[CONSENT]: window.__cmp function found, prebid consent management module in place"))},setUserSync:function(e){e.userSync={filterSettings:{iframe:{bidders:"*",filter:"include"}}}},setPriceGranularity:function(e){e.priceGranularity={buckets:[{min:0,max:2.99,increment:.01,precision:2},{min:3,max:9.9,increment:.1,precision:2},{min:10,max:49,increment:1,precision:2},{min:50,max:100,increment:10,precision:2}]}},setEnableSendAllBids:function(e){e.enableSendAllBids=!1},setSizeConfig:function(t,n){if(n&&n.fuse_settings&&n.fuse_settings.responsive){var i=null;t.sizeConfig=[],Object.keys(n.fuse_breakpoints).forEach(function(e){t.sizeConfig.push({mediaQuery:"(min-width:".concat(n.fuse_breakpoints[e],"px)").concat(i?" and (max-width: ".concat(i-1,"px)"):""),sizesSupported:n.supported_sizes[e],labels:[e]}),i=n.fuse_breakpoints[e]})}},setBidderSettings:function(e){e.bidderSettings={ix:{bidCpmAdjustment:H}}}},Fe="node"==d?{prebidConfigSetters:Be,setPrebidConfig:W,createPrebidObj:G,pushToPrebidQue:V,setPrebidAdUnits:X,requestPrebidBids:Y,setPrebidAnalytics:J,ixBidCpmAdjustment:H}:{loadPrebidLibrary:function(){if(!A.pbjs||!A.pbjs.libLoaded){var e=h({},Le);return"true"===y("local_prebid")[1]?(T("[LOAD]: local version of prebid in use"),e.url="./"):e.url+="".concat(n,"/").concat(a.fuse_id,"/"),S(e,function(){z("[LOAD]: 3. Prebid ".concat(A.pbjs&&A.pbjs.libLoaded?"".concat(A.pbjs.version," is loaded and ready"):"not loaded")),z("[TIME]: time in ms it took Prebid to load",new Date-re())})}z("[LOAD]: 3. Prebid ".concat(A.pbjs.version," is already loaded skip loading it again"))},createPrebidObj:G,pushToPrebidQue:V,setPrebidConfig:W,setPrebidAdUnits:X,requestPrebidBids:Y,sendPrebidAdserverRequest:function(e){!A.pbjs||A.pbjs&&A.pbjs.adserverRequestSent||(A.pbjs.adserverRequestSent=!0,z("[BIDS]: Setting adserver request from ".concat(e)),ke(function(){V(function(){A.pbjs.setTargetingForGPTAsync();var t=A.pbjs.getAdserverTargeting();0!==Object.keys(t).length&&Object.keys(t).forEach(function(e){z("[BIDS]: Winning bid for slot ".concat(e," of ").concat(t[e].hb_pb," returned before timeout"))}),xe()})}))}},Re={capture:!0,passive:!0},qe=function(n,i,o){A.addEventListener("scroll",function e(){var t=te.getCurrentBreakpoint();ge(n,null,he(i,t))&&(!he(i,t)&&0!==he(i,t)||(o(),A.removeEventListener("scroll",e,Re)))},Re)},Ue=s.adblock,Qe={loadAdBlocklLibrary:function(){return S(Ue,function(){z("[LOAD]: 3. Adblock script loaded."),z("[TIME]: time in ms to load Adblock script",new Date-re())})},createAdBlockObj:function(){return A.Criteo||(A.Criteo={events:[]})},buildAdBlockSlots:function(e,t){var n,i;if(!(0<t.querySelectorAll('[id^="crt"]').length)&&(e.attributes&&e.attributes.adblock)){var o=I.createElement("DIV"),r=e.sizes&&0<e.sizes.length?"".concat(e.sizes[0][1],"px"):"100%",a={zoneid:Number(e.attributes.adblock),containerid:"crt-".concat(e.code),overrideZoneFloor:!1,height:r,callbacksuccess:function(e){z("[SLOTS]: Adblock slots ".concat(a.containerid," loaded")),z("[TIME]: time in ms it took Adblock Slot ".concat(a.containerid," to load"),new Date-re()),e.target.parentNode.style.display="block"}};o.id=a.containerid,o.className="fuse-adblock",t.appendChild(o),n=a,A.Criteo?(i=n,A.Criteo.events.push(function(){z("[SLOTS]: Adblock slots ".concat(i.containerid," set up")),A.Criteo.DisplayAcceptableAdIfAdblocked(i),I.getElementById(i.containerid).style.height=i.height,I.getElementById(i.containerid).style.display="none"})):T("You need to declare the global Criteo Object first")}}};var Ge={enable:function(){(A._clrm||(A._clrm={})).gpt={propertyId:"bR7_trg8Qo2LNRwdGIEOwoeDupQ",confiantCdn:"clarium.global.ssl.fastly.net",sandbox:0,mapping:"W3siaSI6MiwidCI6Int7b319Ont7d319eHt7aH19IiwicCI6MCwiRCI6MSwiciI6W119LHsiaSI6NiwidCI6Int7Y299fTp7e3d9fXh7e2h9fSIsInAiOjUwLCJEIjowLCJyIjpbeyJ0IjoiZXgiLCJzIjpudWxsLCJ2IjoiY28ifV19XQ==",activation:"|||Mzg5ODk4MDMz,|||MjM4MTU5MzYwMg==,|||MjM4MTAxNzU2Mg==,|||MjM4MTAxNzU2Mg==,|||MjM4MTAxNzQzMA==,|||MjM4MTAxNzU2Mg==,|||MjM4MTAxNzU2Mg==,|||MjM4MTAxNzQzMw==,|||MjM4MTAxNzU2Mg==,|||MjM4MTAxNzQzNg==,|||MjM4MTAxNzQzOQ==,|||MjU0MTE4ODU3NQ==,|||MjM4MTAxNzU2Mg==,|co|ex|MQ==",callback:function(e,t,n,i,o,r){z("[CONFIANT]",arguments)}},S(s.confiant,function(){z("[LOAD]: 0. Confiant tag loaded"),z("[TIME]: time in ms it took Confiant tag to load",new Date-re())})}};var Ve=function(){var e,t,n,i,o,r;e=new XMLHttpRequest,t=window.location.hostname,n=document.createElement("script"),i=document.getElementsByTagName("script")[0],o=(new Date).getTime(),r="https://quantcast.mgr.consensu.org".concat("/choice/","PRrmquD1Ggcb1","/",t,"/choice.js").concat("?timestamp=",o),e.onreadystatechange=function(){if(4===this.readyState){if(n.async=!0,n.type="text/javascript",200===this.status)n.src=r;else{var e="https://quantcast.mgr.consensu.org".concat("/choice.js");n.src=e,r=e}i.parentNode.insertBefore(n,i)}},e.open("GET",r,!0),e.send(),function(){if(void 0===window.__cmp){var t=0;window.__cmp=function(){var e=arguments;if("object"==l(window.__cmp.a))return window.__cmp.apply(window.__cmp,e);t<10?(setTimeout(function(){window.__cmp.apply(window.__cmp,e)},400),t++):console.warn("CMP not loaded after 4 seconds")}}}()},He=function(){function i(e,t){var n=this;f(this,i),this.log=t,this.registry={},e.forEach(function(e){n.registry[e]=[]})}return g(i,[{key:"on",value:function(e,t){return!!this.registry[e]&&(this.registry[e].push(t),!0)}},{key:"off",value:function(e,n){return!!this.registry[e]&&(this.registry[e].forEach(function(e,t){e===n&&(i=t)}),!(!i&&0!==i)&&(this.registry[e].splice(i,1),!0));var i}},{key:"once",value:function(t,n){var i=this;return i.on(t,function e(){n.apply(null,Array.prototype.slice.call(arguments)),i.off(t,e)})}},{key:"emit",value:function(e){if(!this.registry[e])return!1;var t=Array.prototype.slice.call(arguments);t.shift(),this.log("[EVENT] ".concat(e," triggered with ").concat(this.registry[e].length," in the registry")),this.registry[e].forEach(function(e){e.apply(null,t)})}}]),i}(),Je=e,We=Je.fuse_settings;We.pageTargeting=[];var Xe=A.fusetag||(A.fusetag={que:[]});Xe.initialised=Xe.initialised||!1,Xe.states=Xe.states||[{loaded:!0,ts:Date.now()}];function Ye(){return ct}function Ze(){return dt}function $e(){return JSON.parse(JSON.stringify(Je))}function Ke(){Object.keys(ut).forEach(function(e){return clearInterval(ut[e])}),ut={}}function et(e){var t=e||Object.keys(dt);Fe&&0<We.headerbidding?Fe.pushToPrebidQue(function(){A.pbjs&&A.pbjs.adUnits&&(A.pbjs.adUnits=A.pbjs.adUnits.map(function(e){var t=dt[e.code];if(!t)return e;var n=be(t.id);return e.sizes=n,e.mediaTypes&&e.mediaTypes.banner&&(e.mediaTypes.banner.sizes=n),e})),A.pbjs.requestBids({timeout:We.headerbidding,bidsBackHandler:function(e){z("[BIDS]: Prebid bid response for all",e),z("[TIME]: time it took for Prebid bids to return",new Date-(ae()||re())),A.pbjs.setTargetingForGPTAsync(),oe(),xe(t)}})}):ke(function(){oe(),xe(t)})}function tt(i){i&&(z("[REFRESH]: Refreshing ".concat(i," at: "),new Date-(ae()||re())),Fe&&0<We.headerbidding?Fe.pushToPrebidQue(function(){if(A.pbjs&&A.pbjs.adUnits){var e=A.pbjs.adUnits[i];if(e){var t=dt[i];if(!t)return;var n=be(t.id);e.sizes=n,e.mediaTypes&&e.mediaTypes.banner&&(e.mediaTypes.banner.sizes=n),A.pbjs.adUnits[i]=e}}A.pbjs.requestBids({timeout:We.headerbidding,adUnitCodes:[i],bidsBackHandler:function(e){var t;z("[BIDS]: Prebid bid response for ".concat(t=i),e),z("[TIME]: time it took for Prebid bids to return",new Date-(ae()||re())),A.pbjs.setTargetingForGPTAsync([t]),xe(t)}})}):ke(function(){xe(i)}))}function nt(t,e){ut[t.code]&&clearInterval(ut[t.code]),ut[t.code]=setInterval(function(){var e=te.getCurrentBreakpoint();t.element&&ge(I.getElementById(t.code)||t.element,50,he(t,e))&&tt(t.code)},1e3*e)}function it(e){e.attributes.refresh?(z("[LOAD]: Setting custom refresh time of ".concat(e.attributes.refresh," seconds for ").concat(e.code," at: "),new Date-re()),nt(e,e.attributes.refresh)):0===e.attributes.refresh?z("[LOAD]: No refresh timer set for ".concat(e.code," at: "),new Date-re()):We.refresh&&0<We.refresh?(z("[LOAD]: Setting global refresh time of ".concat(We.refresh," seconds for ").concat(e.code," at: "),new Date-re()),nt(e,We.refresh)):z("[LOAD]: No refresh timer exists in account settings.")}function ot(e){var t=le(e);if(!t)return T("[SLOTS]: Could not find div with data-fuse attribute of ".concat(e));var n=t.getAttribute("data-fuse-code");if(n&&ct[n]===t)return z("[SLOTS]: ".concat(e," has already with been bootstrapped and showing ad with ad slot ID ").concat(n));var i=JSON.parse(JSON.stringify(de(t)));i&&(i.code="".concat(o,"-").concat(i.id,"-").concat(i.matched),pe(i,t),i.attributes&&i.attributes.adblock&&Qe.buildAdBlockSlots(i,t),dt[i.code]=i,dt[i.code].element=t,ct[i.code]=t,ke(function(){var e=we(i);return pt.add(i.id,e),e}),Fe&&0<We.headerbidding&&Fe.pushToPrebidQue(function(){Fe.setPrebidAdUnits({code:i.code,mediaTypes:{banner:{sizes:be(i.id)}},bids:i.bids})}),ke(function(){je(i)}),it(i),tt(i.code))}function rt(e){Xe.initialised?ot(e):Xe.onTagInitialised(function(){ot(e)})}function at(){se(new Date),pt.purgeAll(),ct={},dt={},oe(),Ke(),Object.keys(We.pageTargeting).forEach(function(e){ke(function(){A.googletag.pubads().clearTargeting(e)})}),Fe&&0<We.headerbidding&&pbjs.adUnits&&(pbjs.adUnits.length=0)}function st(){at();var e=ue(),i=[];e.forEach(function(e){var t=de(e);if(t){t.code||((t=JSON.parse(JSON.stringify(t))).code="".concat(o,"-").concat(t.id,"-").concat(t.matched)),pe(t,e),t.attributes&&t.attributes.adblock&&Qe.buildAdBlockSlots(t,e),dt[t.code]=t,dt[t.code].element=e,ct[t.code]=e,i.push(t.code);var n=te.getCurrentBreakpoint();me(e,t,n)?(z("[SLOTS]: Adding lazy listener for ".concat(t.code)),qe(e,t,function(){!function(e){z("[LOAD]: Loading ".concat(e," at ").concat(new Date-(ae()||re())));var t=fe(e).getAttribute("data-fuse-code");t||T("[LOAD]: No fuseCode for fuse-slot-code of ".concat(e,", this usually means there was an error with initialisation"));var n=Ze()[t];n&&(ke(function(){var e=we(n);return pt.add(n.id,e),e}),Fe&&0<We.headerbidding&&Fe.pushToPrebidQue(function(){Fe.setPrebidAdUnits({code:n.code,mediaTypes:{banner:{sizes:be(n.id)}},bids:n.bids})}),ke(function(){je(n)}),tt(n.code),it(n))}(t.code)})):(ke(function(){var e=we(t);return pt.add(t.id,e),e}),Fe&&0<We.headerbidding&&t.bids&&0<t.bids.length&&Fe.pushToPrebidQue(function(){Fe.setPrebidAdUnits({code:t.code,mediaTypes:{banner:{sizes:be(t.id)}},bids:t.bids})}),ke(function(){je(t)}),it(t))}}),We.pageTargeting.forEach(function(e){ke(function(){ze(e.key,e.value)})}),ke(function(){Ie(),i.length&&et(i)})}var ct={},dt={},ut={},lt="onTagInitialised",ft=new He([lt],z),pt=new De({logger:{error:w},getMatchedFuseSlot:function(e){return ie(e)},pushToGoogleTagQueueFunc:function(e){return ke(e)},destroySlotsFunc:function(e){return A.googletag.destroySlots(e)}});Xe.getAdSlotsById=function(e){if(e&&("string"==typeof e||"number"==typeof e))return pt.getSlots("".concat(e))},Xe.setSlotTargetingById=function(e,t,n){!e||"string"!=typeof e&&"number"!=typeof e||pt.setSlotTargetingById(e,t,n)},Xe.onSlotRenderEnded=function(e){ke(function(){return Me(e)})},Xe.getAdSlotsByFuseId=Xe.getAdSlotsById,Xe.getFuseSlots=Ze,Xe.getFuseSettings=$e,Xe.getFuseUnits=Ye,Xe.loadFuseSlots=st,Xe.loadFuseSlotById=rt,Xe.resetFuseSlots=at,Xe.setSlotTargetingByFuseId=Xe.setSlotTargetingById,Xe.disableRefresh=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];e&&ut[e]?(z("[REFRESH]: Disabling refresh for ".concat(e)),clearInterval(ut[e])):(z("[REFRESH]: Disabling refresh for all units"),Ke())},Xe.setTargeting=function(e,t){We.pageTargeting.push({key:e,value:t}),z("[LOAD]: Adding custom targeting for [key: ".concat(e,", value: ").concat(t,"]"))},Xe.getTargeting=function(){return We.pageTargeting},Xe.que.push=function(e){if("function"==typeof e)try{e.call()}catch(e){w("Error processing command :",e.message,e.stack)}else w("Commands written into fusetag.que.push must be wrapped in a function")};function gt(e){var t=e.disablePersonalisedAds,n=e.forceDisablePrebid;z("[INIT]: disablePersonalisedAds is ".concat(t?"on":"off")),z("[INIT]: forceDisablePrebid is ".concat(n?"on":"off")),t&&ke(function(){Ne()}),n&&(We.headerbidding=0),Fe&&0<We.headerbidding&&(Fe.createPrebidObj(),Fe.loadPrebidLibrary(),Fe.pushToPrebidQue(function(){Fe.setPrebidConfig()}),ke(function(){A.googletag.pubads().disableInitialLoad()}),z("[LOAD]: 2. Headerbidding enabled, settings and ".concat(We.headerbidding,"ms timeout added"))),0<We.adblock&&(Qe.createAdBlockObj(),Qe.loadAdBlocklLibrary(),z("[LOAD]: 2. Adblock has been enabled.")),ke(function(){Ee(),Me(function(e){dt[e.slotId]?dt[e.slotId].hasCreative=e.hasCreative:z("[BIDS]: Slot Render Ended Event fired for non fuse units.")}),Ce(dt),Pe()}),We.responsive&&te.watchForBreakpoints(function(e){e&&et()}),"node"==d&&(Xe.getGPTSlot=Oe);var i=setInterval(function(){("complete"===I.readyState||"interactive"===I.readyState)&&A.googletag&&A.googletag.apiReady?(clearInterval(i),z("[TIME]: time in ms it took the page to load: ",new Date-re()),Xe.loaded||(Xe.loaded=!0,ce().forEach(function(e){if(z("[LOAD]: executing functions pushed to Fuse Queue"),"function"==typeof e)try{e.call(),e.called=!0}catch(e){w("Error processing command :",e.message,e.stack)}else w("Commands written into fusetag.que.push must be wrapped in a function")})),st(),ft.emit(lt),Xe.initialised=!0,Xe.states.push({initialised:!0,ts:Date.now()})):z("Waiting for parent Page to finish loading. Page status is: ",I.readyState)},10)}if(Xe.loaded&&T("[LOAD]: Fuse Tag was loaded more than once."),We.confiant&&Ge.enable(),We.cmp&&Ve(),z("[LOAD]: 1. Fuse Tag v".concat(t," is loaded and ready")),z("[TIME]: time in ms it took Fuse to load",new Date-re()),Te(),_e(),We.skip_auto_init)z("[INIT]: auto init is off skip Fuse init");else if(We.cmp||ye()){z("[CONSENT]: Found IAB CMP try to check for CMP status before initiating");var bt=1,ht=setInterval(function(){Se(function(e){if(e){z("[CONSENT]: CMP loaded, checking for consent"),clearInterval(ht);ve(function e(t){var n=t.consentReceived,i=t.personalisedAdsConsent,o=t.googlePersonalisedAdsConsent;return t.gdprApplies?n?(z("[CONSENT]: ".concat(o?"[X]":"[ ]"," Google Personalised Ads")),z("[CONSENT]: ".concat(i?"[X]":"[ ]"," vendors Personalised Ads")),gt({disablePersonalisedAds:!o,forceDisablePrebid:!i})):void setTimeout(function(){ve(e)},1e3):(z("[CONSENT]: Not in GDPR/CCPA regions, continue as normal"),gt({disablePersonalisedAds:!1,forceDisablePrebid:!1}))})}else 20<=bt?(z("[CONSENT]: Cannot load CMP after 20 seconds, continue as per normal"),clearInterval(ht),gt({disablePersonalisedAds:!1,forceDisablePrebid:!1})):bt+=1})},1e3)}else z("[CONSENT]: No CMP found, continue to init Fuse"),gt(!1);return Xe.init=gt,Xe.getRefreshIntervals=function(){return JSON.parse(JSON.stringify(ut))},Xe.getSlots=Ze,Xe.getSettings=$e,Xe.getUnits=Ye,Xe.loadSlots=st,Xe.loadSlotById=rt,Xe.refreshSlots=et,Xe.refreshSlotByCode=tt,Xe.resetSlots=at,Xe.onTagInitialised=function(e){ft.once("onTagInitialised",e)},Xe});
